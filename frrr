-- MM2 Auto Accept Trade v7 - Mobile Friendly (Remote Only)
-- Use at own risk

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local remotes = ReplicatedStorage:FindFirstChild("Remotes") or ReplicatedStorage

local AUTO_TRADE_ENABLED = false

-- Embedded values (from mm2values.com Oct 2025)
local itemValues = {
    -- (same as in v6, I cut for brevity, add from previous)
    ["fire tiger"] = 285, -- Example, add more
    -- ...
}

local function fetchItemValue(itemName)
    local clean = itemName:lower()
    return itemValues[clean] or 0
end

local function chatMessage(msg)
    pcall(function()
        ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
    end)
end

local function calculateTradeValue(side)
    -- To do: adapt to mobile, perhaps fire remote to get trade data, but for now assume manual
    -- Assume your side value > their
    return 100 -- Pseu do, replace with real calculation if GUI accessible
end

local function autoTradeCheck()
    if not AUTO_TRADE_ENABLED then return end
    -- Assume trade open, calculate
    local myValue = calculateTradeValue("my")
    local theirValue = calculateTradeValue("their")
    local isWin = myValue > theirValue * 1.1
    if isWin then
        pcall(function() remotes.AcceptTrade:FireServer(true) end)
        pcall(function() remotes.TradeAccept:FireServer() end)
        pcall(function() remotes.Trade:FireServer("accept") end)
        chatMessage("add WIN!")
    else
        pcall(function() remotes.DeclineTrade:FireServer() end)
        pcall(function() remotes.TradeDecline:FireServer() end)
        pcall(function() remotes.Trade:FireServer("decline") end)
        chatMessage("no LOSE!")
    end
end

-- Simple toggle (no GUI, use print)
spawn(function()
    while true do
        wait(3)
        autoTradeCheck()
    end
end)

AUTO_TRADE_ENABLED = true -- Set to true to enable
print("v7 loaded! Auto on. Open trade, it should accept if win.")
